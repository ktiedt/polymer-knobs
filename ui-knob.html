<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="shared-styles.html"><!-- Calling common styles -->
<link rel="import" href="bower_components/iron-resizable-behavior/iron-resizable-behavior.html">

<link rel="import" href="twist-behavior.html">
<dom-module id="ui-knob">
  <template>
    <style include="shared-styles">
      .inset {
        padding: 10%;
      }

    </style>
      <div class="inset">
        <div class="chamfer twisty">
          <div class="face round">
            <div class$="{{pointer}}"></div>
          </div>
        </div>
      </div>
  </template>
  <script>
    Polymer({
      is: 'ui-knob',
      listeners: {
      'iron-resize': '_resizeHandler' // not working
    },

      properties: {
        pointer: {
          type: String,
          value: "hole"
        }
      },
      behaviors: [
        TwistBehavior
      ],
      squareIt: function() {
      //$('.round').css({'height': $('.round').outerWidth() +'px'});
      this.victim = this.$$('.round');
      console.log(this.victim.offsetWidth); // this works fine
      this.victim.style.height = this.victim.offsetWidth;
    },
    created: function() {
      console.log('Squaring for ', this, 'enabled!');
    },
    ready: function() {
      this.squareIt();
    },
    _resizeHandler: function (e) {
      console.log(e);
    }
  });
  </script>
</dom-module>